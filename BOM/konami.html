<!DOCTYPE html>
<html>
<head>
  <title>Konami Code</title>
  <style>
    .transition {
      transition: background-position 4s linear;
      margin: 0;
      overflow: hidden;
    }

    .slide-background {
      background-image: url(https://www.zikoko.com/wp-content/uploads/cloudinary/v1492601657/contra_zp0d09.jpg);
      background-size: cover;
      background-position: -100% 0; /* Initial position: completely off-screen to the left */
    }


  </style>
</head>
<body class="transition">
<h1>Konami Code</h1>

<script>
  "use strict";
  let audio = new Audio('audio/contraTitle.mp3')

  let konami = [38, 38, 40, 40, 37, 39, 37, 39, 66, 65, 13];
  let user = [];
  let counter = 0;

  document.addEventListener('keyup', function(event) {
    console.log(event.code);
    user.push(event.keyCode);

    if (konami[counter] !== user[counter]) {
      alert("Not correct Konami code!");
      resetState();
    } else if (konami.length - 1 === counter) {
      alert("Correct Konami code - you get 30 lives!");
      cheatsActivated();
      resetState();
    } else {
      counter++;
    }
  });

  function cheatsActivated() {
    document.body.classList.add('slide-background');
    audio.play();
  }

  function resetState() {
    user = [];
    counter = 0;
  }
</script>
</body>
</html>



